<!DOCTYPE html>
<html lang="en"> <!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>GAPForever | Units</title>
    <meta name="description" content="Here is the most up-to-date information about each GAPForever unit">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="./apple-touch-icon-precomposed.png" />
    <link rel="manifest" href="site.webmanifest">

    <!-- META Tags for Social Sharing -->
    <meta property="og:title" content="GAPForever | Units" />
    <meta property="og:description" content="Here is the most up-to-date information about each GAPForever unit" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://gapforever2.github.io/spooky-db/" />
    <meta property="og:image" content="./thumbnail.png" />
    <meta property="og:image:alt" content="GAPForever | Units" />
    <meta name="twitter:name" content="GAPForever" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="GAPForever | Units" />
    <meta name="twitter:description" content="Here is the most up-to-date information about each GAPForever unit" />
    <meta name="twitter:image" content="./thumbnail.png" />

    <!-- build:css css/vendor.css -->
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/foundation.css">
    <!-- endbuild -->

    <link href="https://fonts.googleapis.com/css?family=Muli" rel="stylesheet" type="text/css">

    <!-- build:css(.tmp) css/main.css -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/strategic_sprites.css">
    <link rel="stylesheet" href="css/units_sprites.css">
    <link rel="stylesheet" href="css/ui_sprites.css">
    <!-- endbuild -->

    <!-- build:js js/modernizr.js -->
    <script src="js/vendor/modernizr-custom-3.6.0.js"></script>
    <!-- endbuild -->
</head>

<body>
    <ng-view></ng-view>

    <!-- build:js js/vendor.js -->
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
    <script src="bower_components/angular-route/angular-route.js"></script>
    <script src="bower_components/underscore/underscore.js"></script>
    <script src="bower_components/angular-underscore/angular-underscore.js"></script>
    <!-- endbuild -->

    <!-- build:js js/scripts.js -->
    <script src="js/plugins.js"></script>
    <script src="js/main.js"></script>
    <script src="js/dps.js"></script>
    <script src="js/UnitDecorator.js"></script>
    <script src="js/services.js"></script>
    <script src="js/filters.js"></script>
    <script src="js/directives.js"></script>
    <script src="js/controllers.js"></script>
    <!-- endbuild -->

    <script id="init" data-src="data/index.json" data-src-fat="data/index.fat.json" type="module">
        const initScript = document.querySelector('#init');
        const pageSearchParams = new URLSearchParams(location.search);
        const path = pageSearchParams.has('fat') ? initScript.dataset.srcFat : initScript.dataset.src;
        try {
            const jsonRequest = await fetch(path);
            const jsonResponse = await jsonRequest.json();
            unitDb.start('unitDb', jsonResponse);
        } catch (e) {
            console.error('Error fetching JSON data:', e);
            unitDb.start('unitDb', {"error": "Failed to load data" });
        }
    </script>
</body>

</html>
